/*! For license information please see mod.js.LICENSE.txt */
(()=>{"use strict";((e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.socket=void 0,ModAPI.require("player");var s=ModAPI.settings,t=ModAPI.player;!function e(){o.socket=new WebSocket("ws://congenial-couscous-wr7qpjr599x7fg4rq-8080.app.github.dev/",["protocolOne","protocolTwo"]),o.socket.onopen=function(){console.log("WebSocket connection opened")},o.socket.onclose=function(){console.log("Websocket disconnected, attemping to reconnect"),e()},1==s.keyBindForward.pressed&&o.socket.send("message from client"),o.socket.onmessage=function(e){console.log("Received message:",e.data);var n=e.data.split(" ");if("!out"==n[0])ModAPI.settings[n[1]].pressed=parseInt(n[2]);else if("!getdata"==n[0]){var r={forward:s.keyBindForward.pressed,left:s.keyBindLeft.pressed,right:s.keyBindRight.pressed,back:s.keyBindBack.pressed,jump:s.keyBindJump.pressed,sprint:s.keyBindSprint.pressed,posX:Math.floor(t.posX),posY:Math.floor(t.posY),posZ:Math.floor(t.posZ),yaw:t.rotationYaw,pitch:t.rotationPitch};o.socket.send("!data ".concat(JSON.stringify(r)))}},o.socket.onerror=function(e){console.error("WebSocket error:",e)}}()})(0,{})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kLmpzIiwibWFwcGluZ3MiOiI7NEJBQ0FBLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RERCxFQUFRRSxZQUFTLEVBQ2pCQyxPQUFPQyxRQUFRLFVBQ2YsSUFBSUMsRUFBV0YsT0FBT0UsU0FDbEJDLEVBQVNILE9BQU9HLFFBQ3BCLFNBQVNDLElBQ0xQLEVBQVFFLE9BQVMsSUFBSU0sVUFFckIsaUVBQWtFLENBQzlELGNBQ0EsZ0JBRUpSLEVBQVFFLE9BQU9PLE9BQVMsV0FDcEJDLFFBQVFDLElBQUksOEJBQ2hCLEVBQ0FYLEVBQVFFLE9BQU9VLFFBQVUsV0FDckJGLFFBQVFDLElBQUksa0RBQ1pKLEdBQ0osRUFDdUMsR0FBbkNGLEVBQVNRLGVBQWVDLFNBQ3hCZCxFQUFRRSxPQUFPYSxLQUFLLHVCQUV4QmYsRUFBUUUsT0FBT2MsVUFBWSxTQUFVQyxHQUNqQ1AsUUFBUUMsSUFBSSxvQkFBcUJNLEVBQUlDLE1BQ3JDLElBQUlDLEVBQU9GLEVBQUlDLEtBQUtFLE1BQU0sS0FDMUIsR0FBZSxRQUFYRCxFQUFLLEdBQ0xoQixPQUFPRSxTQUFTYyxFQUFLLElBQUlMLFFBQVVPLFNBQVNGLEVBQUssU0FFaEQsR0FBZSxZQUFYQSxFQUFLLEdBQWtCLENBQzVCLElBQUlHLEVBQVUsQ0FDVkMsUUFBU2xCLEVBQVNRLGVBQWVDLFFBQ2pDVSxLQUFNbkIsRUFBU29CLFlBQVlYLFFBQzNCWSxNQUFPckIsRUFBU3NCLGFBQWFiLFFBQzdCYyxLQUFNdkIsRUFBU3dCLFlBQVlmLFFBQzNCZ0IsS0FBTXpCLEVBQVMwQixZQUFZakIsUUFDM0JrQixPQUFRM0IsRUFBUzRCLGNBQWNuQixRQUMvQm9CLEtBQU1DLEtBQUtDLE1BQU05QixFQUFPNEIsTUFDeEJHLEtBQU1GLEtBQUtDLE1BQU05QixFQUFPK0IsTUFDeEJDLEtBQU1ILEtBQUtDLE1BQU05QixFQUFPZ0MsTUFDeEJDLElBQUtqQyxFQUFPa0MsWUFDWkMsTUFBT25DLEVBQU9vQyxlQUVsQjFDLEVBQVFFLE9BQU9hLEtBQUssU0FBUzRCLE9BQU9DLEtBQUtDLFVBQVV2QixJQUN2RCxDQUNKLEVBQ0F0QixFQUFRRSxPQUFPNEMsUUFBVSxTQUFVQyxHQUMvQnJDLFFBQVFzQyxNQUFNLG1CQUFvQkQsRUFDdEMsQ0FDSixDQUNBeEMsSUM5Q0EwQyxDQUFxQyxFQURYLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb2QvLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly9tb2Qvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zb2NrZXQgPSB2b2lkIDA7XG5Nb2RBUEkucmVxdWlyZShcInBsYXllclwiKTtcbnZhciBzZXR0aW5ncyA9IE1vZEFQSS5zZXR0aW5ncztcbnZhciBwbGF5ZXIgPSBNb2RBUEkucGxheWVyO1xuZnVuY3Rpb24gbWFrZVdlYnNvY2tldENvbm5lY3Rpb24oKSB7XG4gICAgZXhwb3J0cy5zb2NrZXQgPSBuZXcgV2ViU29ja2V0KFxuICAgIC8vVGVtcG9yYXJ5LCBJIHBsYW4gdG8gaG9zdCB0aGlzIG9uIHJlbmRlci92ZXJjZWw/IGlmIEkgZXZlciBnZXQgaXQgZG9uZVxuICAgIFwid3M6Ly9jb25nZW5pYWwtY291c2NvdXMtd3I3cXBqcjU5OXg3Zmc0cnEtODA4MC5hcHAuZ2l0aHViLmRldi9cIiwgW1xuICAgICAgICBcInByb3RvY29sT25lXCIsXG4gICAgICAgIFwicHJvdG9jb2xUd29cIixcbiAgICBdKTtcbiAgICBleHBvcnRzLnNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiV2ViU29ja2V0IGNvbm5lY3Rpb24gb3BlbmVkXCIpO1xuICAgIH07XG4gICAgZXhwb3J0cy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJXZWJzb2NrZXQgZGlzY29ubmVjdGVkLCBhdHRlbXBpbmcgdG8gcmVjb25uZWN0XCIpO1xuICAgICAgICBtYWtlV2Vic29ja2V0Q29ubmVjdGlvbigpO1xuICAgIH07XG4gICAgaWYgKHNldHRpbmdzLmtleUJpbmRGb3J3YXJkLnByZXNzZWQgPT0gMSkge1xuICAgICAgICBleHBvcnRzLnNvY2tldC5zZW5kKCdtZXNzYWdlIGZyb20gY2xpZW50Jyk7XG4gICAgfVxuICAgIGV4cG9ydHMuc29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZWNlaXZlZCBtZXNzYWdlOlwiLCBtc2cuZGF0YSk7XG4gICAgICAgIHZhciBhcmdzID0gbXNnLmRhdGEuc3BsaXQoXCIgXCIpO1xuICAgICAgICBpZiAoYXJnc1swXSA9PSAnIW91dCcpIHtcbiAgICAgICAgICAgIE1vZEFQSS5zZXR0aW5nc1thcmdzWzFdXS5wcmVzc2VkID0gcGFyc2VJbnQoYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJnc1swXSA9PSAnIWdldGRhdGEnKSB7XG4gICAgICAgICAgICB2YXIgcnVuRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBmb3J3YXJkOiBzZXR0aW5ncy5rZXlCaW5kRm9yd2FyZC5wcmVzc2VkLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHNldHRpbmdzLmtleUJpbmRMZWZ0LnByZXNzZWQsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHNldHRpbmdzLmtleUJpbmRSaWdodC5wcmVzc2VkLFxuICAgICAgICAgICAgICAgIGJhY2s6IHNldHRpbmdzLmtleUJpbmRCYWNrLnByZXNzZWQsXG4gICAgICAgICAgICAgICAganVtcDogc2V0dGluZ3Mua2V5QmluZEp1bXAucHJlc3NlZCxcbiAgICAgICAgICAgICAgICBzcHJpbnQ6IHNldHRpbmdzLmtleUJpbmRTcHJpbnQucHJlc3NlZCxcbiAgICAgICAgICAgICAgICBwb3NYOiBNYXRoLmZsb29yKHBsYXllci5wb3NYKSxcbiAgICAgICAgICAgICAgICBwb3NZOiBNYXRoLmZsb29yKHBsYXllci5wb3NZKSxcbiAgICAgICAgICAgICAgICBwb3NaOiBNYXRoLmZsb29yKHBsYXllci5wb3NaKSxcbiAgICAgICAgICAgICAgICB5YXc6IHBsYXllci5yb3RhdGlvbllhdyxcbiAgICAgICAgICAgICAgICBwaXRjaDogcGxheWVyLnJvdGF0aW9uUGl0Y2gsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZXhwb3J0cy5zb2NrZXQuc2VuZChcIiFkYXRhIFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShydW5EYXRhKSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnNvY2tldC5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJXZWJTb2NrZXQgZXJyb3I6XCIsIGV2ZW50KTtcbiAgICB9O1xufVxubWFrZVdlYnNvY2tldENvbm5lY3Rpb24oKTtcbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0ge307XG5fX3dlYnBhY2tfbW9kdWxlc19fW1wiLi9zcmMvbWFpbi50c1wiXSgwLCBfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInNvY2tldCIsIk1vZEFQSSIsInJlcXVpcmUiLCJzZXR0aW5ncyIsInBsYXllciIsIm1ha2VXZWJzb2NrZXRDb25uZWN0aW9uIiwiV2ViU29ja2V0Iiwib25vcGVuIiwiY29uc29sZSIsImxvZyIsIm9uY2xvc2UiLCJrZXlCaW5kRm9yd2FyZCIsInByZXNzZWQiLCJzZW5kIiwib25tZXNzYWdlIiwibXNnIiwiZGF0YSIsImFyZ3MiLCJzcGxpdCIsInBhcnNlSW50IiwicnVuRGF0YSIsImZvcndhcmQiLCJsZWZ0Iiwia2V5QmluZExlZnQiLCJyaWdodCIsImtleUJpbmRSaWdodCIsImJhY2siLCJrZXlCaW5kQmFjayIsImp1bXAiLCJrZXlCaW5kSnVtcCIsInNwcmludCIsImtleUJpbmRTcHJpbnQiLCJwb3NYIiwiTWF0aCIsImZsb29yIiwicG9zWSIsInBvc1oiLCJ5YXciLCJyb3RhdGlvbllhdyIsInBpdGNoIiwicm90YXRpb25QaXRjaCIsImNvbmNhdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJvbmVycm9yIiwiZXZlbnQiLCJlcnJvciIsIl9fd2VicGFja19tb2R1bGVzX18iXSwic291cmNlUm9vdCI6IiJ9